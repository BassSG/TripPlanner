<!DOCTYPE html>
<html>
   <head>
      <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
      <base target="_top">
      <title>Trip Planner</title>
      
      <!-- Favicon -->
      <link rel="icon" type="image/png" sizes="192x192" href="https://s21-kling.klingai.com/bs2/upload-ylab-stunt-sgp/se/ai_portal_sgp_mmu_txt2img_aiweb_v15/53e5aa90-d7b3-457c-8217-5266265c1a5a_image.png?x-kcdn-pid=112372">

      <!-- Apple Touch Icon -->
      <link rel="apple-touch-icon" sizes="180x180" href="https://s21-kling.klingai.com/bs2/upload-ylab-stunt-sgp/se/ai_portal_sgp_mmu_txt2img_aiweb_v15/53e5aa90-d7b3-457c-8217-5266265c1a5a_image.png?x-kcdn-pid=112372">

      <!-- Manifest -->
      <link rel="manifest" href="/manifest.json">

      <!-- Theme Color -->
      <meta name="theme-color" content="#ffffff">

      <!-- Enable fullscreen for iOS -->
      <meta name="apple-mobile-web-app-capable" content="yes">
      <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

      <!-- Custom CSS -->
      <style>
         html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: Arial, sans-serif;
            background-color: #ffffff;
         }

         iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
            -webkit-overflow-scrolling: touch; /* Enable smooth scrolling on iOS */
         }
      </style>
   </head>
   <body>
      <!-- ลบ sandbox attribute ออกเพื่อให้การจัดการ focus ภายใน iframe ทำงานได้เต็มที่ -->
      <iframe 
         id="webframe"
         src="https://script.google.com/macros/s/AKfycbyEhiEFqaFgLmjdIIiGU9LGU8tIE3Xw-MtTJrS9mpuN7C1AiV4Y845Bttaj4ilgiETb/exec"
         allow="autoplay; fullscreen">
      </iframe>

      <!-- iOS Focus and Keyboard Fix -->
      <script>
         // เมื่อมีการสัมผัสบนหน้าจอ ให้พยายามส่ง focus ไปที่ iframe หลังจากดีเลย์เล็กน้อย
         document.addEventListener('touchstart', function(event) {
            const iframe = document.getElementById('webframe');
            if (iframe && iframe.contentWindow) {
               setTimeout(() => {
                  iframe.contentWindow.focus();
               }, 100);
            }
         });

         // เมื่อ iframe โหลดเสร็จ ให้ส่ง focus ไปที่ iframe พร้อมกับจับ event คลิกภายใน iframe
         document.getElementById('webframe').addEventListener('load', function() {
            const iframeWindow = this.contentWindow;
            setTimeout(() => {
               iframeWindow.focus();
            }, 100);
            
            // เมื่อมีการคลิกภายใน iframe ให้รีเฟรช focus
            if (iframeWindow.document && iframeWindow.document.body) {
               iframeWindow.document.body.addEventListener('click', () => {
                  iframeWindow.focus();
               });
            }
         });
      </script>
   </body>
</html>
